<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Informations Utilisateur Crypto</title>
<script src="https://kit.fontawesome.com/093708b09e.js" crossorigin="anonymous"></script>
<style>
/* BODY & BACKGROUND */
body {
    margin: 0;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: url('https://london-post.co.uk/wp-content/uploads/2024/04/IMG_2136.jpeg') no-repeat center center/cover;
    color: #fff;
}
body::before {
    content: '';
    position: fixed;
    top:0; left:0;
    width:100%; height:100%;
    background-color: rgba(0,0,0,0.4);
    z-index: 0;
}

/* MENU FIXE */
.menu {
    position: fixed;
    top:0;
    width:100%;
    background: rgba(0,0,0,0.7);
    backdrop-filter: blur(8px);
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 30px;
    z-index: 10;
}
.menu ul {
    list-style: none;
    margin:0;
    padding:0;
    display:flex;
}
.menu ul li { margin:0 15px; }
.menu ul li a {
    color:#fff;
    text-decoration:none;
    font-weight:500;
    transition: color 0.3s, transform 0.2s;
}
.menu ul li a:hover {
    color:#f2a900;
    transform: scale(1.05);
}

/* LOGOUT BUTTON */
.menu .logout a {
    background:#e53935;
    padding:6px 18px;
    border-radius:8px;
    color:#fff;
    font-weight:bold;
    transition: background 0.3s, transform 0.2s;
}
.menu .logout a:hover {
    background:#c62828;
    transform: scale(1.05);
}

/* CONTENT */
.container {
    max-width: 900px;
    margin: 100px auto 30px;
    padding: 20px;
    background: rgba(0,0,0,0.5);
    border-radius: 16px;
    backdrop-filter: blur(8px);
    box-shadow: 0 6px 20px rgba(0,0,0,0.5);
    z-index:1;
    position: relative;
}

/* HEADER */
h1 {
    text-align:center;
    margin-bottom:30px;
    font-size:32px;
    color:#f2a900;
}

/* TABLE STYLÉE */
table {
    width:100%;
    border-collapse: collapse;
    margin-top:20px;
}
th, td {
    padding: 14px;
    text-align:left;
    border-bottom: 1px solid rgba(255,255,255,0.2);
    transition: background 0.3s;
}
th {
    background: rgba(242,169,0,0.8);
    color:#000;
}
td {
    background: rgba(255,255,255,0.1);
    color:#fff;
    border-radius:8px;
}
tr:nth-child(even) td {
    background: rgba(255,255,255,0.05);
}
tr:hover td {
    background: rgba(242,169,0,0.2);
}

/* ALERTES */
.alert {
    padding: 12px;
    background: rgba(244,67,54,0.3);
    color:#f44336;
    border-radius: 10px;
    text-align:center;
    margin-bottom:20px;
    font-weight:bold;
}

/* RESPONSIVE */
@media(max-width:768px){
    .menu ul { flex-wrap: wrap; justify-content:center; }
    .menu ul li { margin:5px 10px; }
    .container { width:90%; margin-top:120px; padding:15px; }
}
</style>
</head>
<body>

<!-- MENU -->
<div class="menu">
    <ul>
        <li><a href="verification.html">Vérification</a></li>
        <li><a href="depot.html">Dépôt</a></li>
        <li><a href="retrait.html">Retrait</a></li>
        <li><a href="information.html">Informations</a></li>
    </ul>
    <div class="logout">
        <a href="index.html" id="logout">Déconnexion</a>
    </div>
</div>

<!-- CONTENT -->
<div class="container">
    <h1>Dossier Utilisateur</h1>

    <div class="alert" id="alert-message" style="display:none;">
        Aucune information utilisateur trouvée. Vous allez être redirigé...
    </div>

    <table id="user-info-table">
        <tr>
            <th>Nom complet</th>
            <td id="infoFullName">Non renseigné</td>
        </tr>
        <tr>
            <th>Numéro de téléphone</th>
            <td id="infoPhone">Non renseigné</td>
        </tr>
        <tr>
            <th>Email</th>
            <td id="infoEmail">Non renseigné</td>
        </tr>
    </table>
</div>

<script>
// Charger infos utilisateur
function loadUserInfo() {
    const users = JSON.parse(localStorage.getItem("users")) || [];

    if(users.length===0){
        document.getElementById("alert-message").style.display="block";
        setTimeout(()=>{ window.location.href="index.html"; },3000);
    } else {
        const user = users[users.length-1];
        document.getElementById('infoFullName').textContent = user.username || "Non renseigné";
        document.getElementById('infoPhone').textContent = user.phone || "Non renseigné";
        document.getElementById('infoEmail').textContent = user.email || "Non renseigné";
    }
}

// Déconnexion
document.getElementById("logout").addEventListener("click", ()=>{
    window.location.href="index.html";
});

loadUserInfo();
</script>

</body>
</html>
