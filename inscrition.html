<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Inscription Crypto</title>
<script src="https://kit.fontawesome.com/093708b09e.js" crossorigin="anonymous"></script>
<style>
/* BODY & BACKGROUND */
body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin: 0;
    padding: 0;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    background: url('https://london-post.co.uk/wp-content/uploads/2024/04/IMG_2136.jpeg') no-repeat center center/cover;
    overflow: auto;
}
body::before {
    content: '';
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background-color: rgba(0,0,0,0.3);
    z-index: 0;
}

/* CONTAINER */
section {
    position: relative;
    z-index: 1;
    background-color: rgba(0,0,0,0.4);
    backdrop-filter: blur(10px);
    border-radius: 16px;
    box-shadow: 0 8px 30px rgba(0,0,0,0.4);
    max-width: 450px;
    width: 90%;
    padding: 40px 25px;
    color: #fff;
    display: flex;
    flex-direction: column;
    align-items: center;
    animation: fadeIn 1s ease-in-out;
}
@keyframes fadeIn { from {opacity:0; transform:translateY(-20px);} to {opacity:1; transform:translateY(0);} }

/* HEADER */
section h1 { font-size: 30px; font-weight: 700; margin-bottom: 25px; }

/* INPUTS */
.input-box {
    position: relative;
    width: 100%;
    margin-bottom: 20px;
}
.input-box input {
    width: 100%;
    padding: 14px 20px;
    border-radius: 12px;
    border: 1px solid rgba(255,255,255,0.5);
    font-size: 16px;
    background-color: rgba(255,255,255,0.1);
    color: #fff;
    transition: all 0.3s;
}
.input-box input::placeholder { color: rgba(255,255,255,0.7); }
.input-box input:focus {
    border-color: #fff;
    box-shadow: 0 0 10px rgba(255,255,255,0.6);
    outline: none;
}
.input-box i {
    position: absolute;
    right: 20px;
    top: 50%;
    transform: translateY(-50%);
    color: #fff;
    font-size: 18px;
}

/* BUTTON */
.login-btn {
    width: 100%;
    padding: 15px 20px;
    border: none;
    border-radius: 12px;
    font-size: 16px;
    font-weight: bold;
    cursor: pointer;
    background: rgba(255,255,255,0.2);
    color: #fff;
    transition: all 0.3s;
    backdrop-filter: blur(5px);
}
.login-btn:hover { background: rgba(255,255,255,0.4); }

/* MESSAGES */
.error-message, .success-message {
    width: 100%;
    text-align: center;
    margin: 10px 0;
    padding: 8px 12px;
    border-radius: 10px;
    font-size: 14px;
}
.error-message { background: rgba(244,67,54,0.2); color: #f44336; }
.success-message { background: rgba(76,175,80,0.2); color: #4caf50; }

/* LINK */
section p a { color: #f2a900; text-decoration: underline; font-weight: 500; }

@media (max-width: 480px) {
    section { padding: 30px 20px; }
}
</style>
</head>
<body>
<section>
    <h1>Inscription</h1>
    <form id="register-form">
        <div class="input-box">
            <input type="text" id="username" placeholder="Nom d'utilisateur" required>
            <i class="fa-solid fa-user"></i>
        </div>
        <div class="input-box">
            <input type="email" id="email" placeholder="Adresse e-mail" required>
            <i class="fa-solid fa-envelope"></i>
        </div>
        <div class="input-box">
            <input type="text" id="phone" placeholder="Numéro de téléphone" required>
            <i class="fa-solid fa-phone"></i>
        </div>
        <div class="input-box">
            <input type="password" id="password" placeholder="Mot de passe" required>
            <i class="fa-solid fa-lock"></i>
        </div>
        <button type="submit" class="login-btn">S'inscrire</button>
    </form>

    <div class="error-message" id="error-message"></div>
    <div class="success-message" id="success-message"></div>

    <p><a href="index.html">Retour à la Connexion</a></p>
</section>

<script>
document.getElementById("register-form").addEventListener("submit", function(event) {
    event.preventDefault(); // Empêche le rechargement de la page

    const username = document.getElementById("username").value;
    const email = document.getElementById("email").value;
    const phone = document.getElementById("phone").value;
    const password = document.getElementById("password").value;

    // Récupérer les utilisateurs existants
    const users = JSON.parse(localStorage.getItem("users")) || [];

    // Vérifier si l'utilisateur existe déjà
    const userExists = users.some(user => user.username === username || user.email === email);

    if (userExists) {
        showError("Nom d'utilisateur ou adresse e-mail déjà utilisé.");
    } else {
        // Ajouter le nouvel utilisateur
        users.push({ username, email, phone, password });
        localStorage.setItem("users", JSON.stringify(users));
        showSuccess("Inscription réussie !");
        setTimeout(() => {
            window.location.href = "index.html";
        }, 2000);
    }
});

function showError(message) {
    const errorMessage = document.getElementById("error-message");
    errorMessage.textContent = message;
}

function showSuccess(message) {
    const successMessage = document.getElementById("success-message");
    successMessage.textContent = message;
}
</script>
</body>
</html>
